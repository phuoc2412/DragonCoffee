{% extends "base.html" %}

{% block title %}Dragon Coffee Shop - Liên hệ{% endblock %}

{% block extra_css %}
{{ super() }}
<style>
  .contact-info h3 {
    font-family: var(--font-heading);
    color: var(--primary-color);
    margin-bottom: 1.5rem;
  }
  .contact-info p {
    margin-bottom: 1.2rem;
    display: flex; /* Canh icon và text */
    align-items: flex-start; /* Align top nếu text dài */
    color: var(--dark-color); /* Rõ ràng hơn */
    line-height: 1.6;
  }
  .contact-info p i {
    color: var(--secondary-color);
    font-size: 1.4rem;
    margin-right: 15px;
    width: 25px;
    text-align: center;
    flex-shrink: 0;
    margin-top: 2px; /* Canh tốt hơn với dòng đầu text */
  }
  .contact-info div > h5 { /* Thẻ div chứa H5 và P */
     font-weight: 600;
     color: var(--dark-color);
     font-size: 1rem;
  }
  .contact-info div > p {
      font-size: 0.95rem;
      margin-bottom: 0; /* P bên trong ko cần margin */
      color: var(--gray-color);
  }

  .map-container {
    height: 350px; /* Chiều cao phù hợp */
    border-radius: var(--border-radius-soft);
    overflow: hidden;
    box-shadow: var(--box-shadow-medium);
    border: 5px solid #fff; /* Khung trắng */
    margin-top: 1.5rem; /* Khoảng cách với thông tin trên */
  }

  .card .card-title { /* Style lại title trong card */
      font-family: var(--font-heading);
      color: var(--primary-color);
      border-bottom: 1px solid var(--border-color-subtle);
      padding-bottom: 0.7rem;
  }
  /* Thêm style cho FAQ Accordion nếu cần */
  .faq-card .accordion-button {
    font-weight: 600;
    color: var(--primary-color);
    background-color: #fbf7f2; /* Nền nhẹ cho button */
    border-radius: var(--border-radius-soft);
    box-shadow: none !important; /* Loại bỏ shadow của Bootstrap */
    border-bottom: 1px solid var(--border-color-subtle) !important; /* Thay border Bootstrap */
  }
   .faq-card .accordion-button:not(.collapsed) {
       color: #fff;
       background-color: var(--secondary-color); /* Màu nền khi mở */
   }
   .faq-card .accordion-button:not(.collapsed)::after { /* Style mũi tên khi mở */
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e"); /* Đổi màu mũi tên */
        transform: rotate(-180deg); /* Xoay mũi tên */
   }
   .faq-card .accordion-body {
        padding: 1rem 1.5rem;
        font-size: 0.95rem;
        line-height: 1.7;
        color: var(--dark-color);
   }
    .faq-card .accordion-item { /* Border giữa các item */
        border-radius: var(--border-radius-soft) !important;
        border: 1px solid var(--border-color-subtle) !important;
        overflow: hidden; /* Để radius hoạt động */
        margin-bottom: 0.5rem; /* Khoảng cách nhẹ giữa các câu hỏi */
   }
   .faq-card .accordion-item:first-of-type, .faq-card .accordion-item:last-of-type {
       border-radius: var(--border-radius-soft) !important; /* Đảm bảo radius */
   }

   @media (max-width: 768px) {
     .map-container { height: 280px; }
   }
</style>
{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="content-container">
        <h1 class="section-title">Liên hệ với chúng tôi</h1>
        
        <div class="row">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="contact-info mb-4">
                    <h3>Liên hệ</h3>
                    <p>Chúng tôi rất mong nhận được ý kiến từ bạn! Dù bạn có câu hỏi về sản phẩm, phản hồi về trải nghiệm của mình hay muốn tìm hiểu cơ hội hợp tác kinh doanh, đội ngũ của chúng tôi luôn sẵn sàng hỗ trợ.</p>
                    
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-map-marker-alt contact-icon"></i>
                        <div>
                            <h5 class="mb-0">Văn phòng chính</h5>
                            <p class="mb-0">123 Dragon Street, Phuoc<br>Phía Nam, ST 2412</p>
                        </div>
                    </div>
                    
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-phone contact-icon"></i>
                        <div>
                            <h5 class="mb-0">Điện thoại</h5>
                            <p class="mb-0">00024122003</p>
                        </div>
                    </div>
                    
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-envelope contact-icon"></i>
                        <div>
                            <h5 class="mb-0">Email</h5>
                            <p class="mb-0">phuoclongthan@gmail.com</p>
                        </div>
                    </div>
                    
                    <div class="d-flex align-items-center">
                        <i class="fas fa-clock contact-icon"></i>
                        <div>
                            <h5 class="mb-0">Giờ làm việc</h5>
                            <p class="mb-0">
                                Monday - Friday: 7:00 AM - 8:00 PM hoặc Full ngày<br>
                                Saturday - Sunday: 8:00 AM - 9:00 PM hoặc Full ngày
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.991772685623!2d-122.41941742346177!3d37.77492611154602!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80859a6d00690021%3A0x4a501367f076adff!2sSan%20Francisco%2C%20CA%2C%20USA!5e0!3m2!1sen!2suk!4v1682421296098!5m2!1sen!2suk" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4">
                        <h3 class="card-title mb-4">Gửi tin nhắn cho chúng tôi</h3>
                        
                        <!-- Alert for success -->
                        <div id="contactSuccess" class="alert alert-success d-none" role="alert">
                            Tin nhắn của bạn đã được gửi thành công! Chúng tôi sẽ sớm phản hồi bạn.
                        </div>
                        
                        <!-- Alert for error -->
                        <div id="contactError" class="alert alert-danger d-none" role="alert">
                            Đã xảy ra lỗi khi gửi tin nhắn của bạn. Vui lòng thử lại.
                        </div>
                        
                        <form method="POST" action="{{ url_for('main.contact') }}">
                            {{ form.csrf_token }}
                            
                            <div class="mb-3">
                                {{ form.name.label(class="form-label") }}
                                {{ form.name(class="form-control" + (" is-invalid" if form.name.errors else "")) }}
                                {% if form.name.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.name.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.email.label(class="form-label") }}
                                {{ form.email(class="form-control" + (" is-invalid" if form.email.errors else "")) }}
                                {% if form.email.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.email.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.subject.label(class="form-label") }}
                                {{ form.subject(class="form-control" + (" is-invalid" if form.subject.errors else "")) }}
                                {% if form.subject.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.subject.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.message.label(class="form-label") }}
                                {{ form.message(class="form-control" + (" is-invalid" if form.message.errors else ""), rows=5) }}
                                {% if form.message.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.message.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="d-grid">
                                {{ form.submit(class="btn btn-primary") }}
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="card border-0 shadow-sm mt-4">
                    <div class="card-body p-4">
                        <h3 class="card-title mb-3">Những câu hỏi thường gặp</h3>
                        
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faqHeading1">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse1" aria-expanded="false" aria-controls="faqCollapse1">
                                        Bạn có cung cấp dịch vụ ăn uống không?
                                    </button>
                                </h2>
                                <div id="faqCollapse1" class="accordion-collapse collapse" aria-labelledby="faqHeading1" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Vâng, chúng tôi cung cấp dịch vụ phục vụ tiệc cho các sự kiện với mọi quy mô! Từ dịch vụ cà phê cho các cuộc họp buổi sáng đến đồ uống đầy đủ và các thiết lập bánh ngọt cho các cuộc tụ họp lớn, nhóm phục vụ tiệc của chúng tôi có thể tùy chỉnh một gói để đáp ứng nhu cầu của bạn. Vui lòng liên hệ với chúng tôi theo địa chỉ phuoclongthan@gmail.com để biết thêm thông tin.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faqHeading2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2">
                                        Tôi có thể ứng tuyển vào Dragon Coffee như thế nào?
                                    </button>
                                </h2>
                                <div id="faqCollapse2" class="accordion-collapse collapse" aria-labelledby="faqHeading2" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Chúng tôi luôn tìm kiếm những thành viên nhiệt huyết trong nhóm! Bạn có thể nộp đơn qua trang Tuyển dụng trên trang web hoặc đến bất kỳ địa điểm nào của chúng tôi để nộp đơn trực tiếp. Chúng tôi coi trọng sự nhiệt tình, kỹ năng dịch vụ khách hàng và tình yêu dành cho Rồng và cà phê.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faqHeading3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3">
                                        Bạn có bán lẻ hạt cà phê không?
                                    </button>
                                </h2>
                                <div id="faqCollapse3" class="accordion-collapse collapse" aria-labelledby="faqHeading3" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Có! Bạn có thể mua hỗn hợp đặc trưng của chúng tôi ở dạng hạt nguyên hoặc dạng xay tại bất kỳ địa điểm nào của chúng tôi hoặc thông qua cửa hàng trực tuyến của chúng tôi. Chúng tôi cũng cung cấp dịch vụ đăng ký để giao hàng thường xuyên hạt cà phê Dragon Coffee yêu thích của bạn.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
