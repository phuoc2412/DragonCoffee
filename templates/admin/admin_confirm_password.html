{# templates/admin/admin_confirm_password.html #}
{% extends "admin/base.html" %}

{% block title %}{{ title }} - Trang Quản trị{% endblock %}
{% block page_header %}{{ title }}{% endblock %}

{% block breadcrumb %}
    <li class="breadcrumb-item"><a href="{{ url_for('admin.dashboard') }}">Bảng điều khiển</a></li>
    <li class="breadcrumb-item"><a href="{{ url_for('admin.profile') }}">Hồ sơ</a></li>
    <li class="breadcrumb-item active">Xác thực</li>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-5 col-md-7">
        <div class="card card-primary card-outline shadow-sm">
            <div class="card-header">
                <h3 class="card-title">Xác thực Mật khẩu để Chỉnh sửa Hồ sơ</h3>
            </div>
            <form method="POST" action="{{ url_for('admin.confirm_password_for_edit') }}">
                {{ confirm_form.hidden_tag() }}
                <div class="card-body">
                    <p class="text-muted">Vui lòng nhập mật khẩu hiện tại của bạn để tiếp tục.</p>
                    <div class="input-group mb-3">
                         {{ confirm_form.current_password.label(class="form-label sr-only visually-hidden") }}
                         <span class="input-group-text"><i class="fas fa-lock"></i></span>
                        {{ confirm_form.current_password(class="form-control" + (" is-invalid" if confirm_form.current_password.errors else ""), placeholder="Mật khẩu hiện tại") }}
                        {% if confirm_form.current_password.errors %}
                        <div class="invalid-feedback">
                            {% for error in confirm_form.current_password.errors %}{{ error }}{% endfor %}
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="card-footer">
                    <a href="{{ url_for('admin.profile') }}" class="btn btn-secondary">Hủy</a>
                    {{ confirm_form.submit(class="btn btn-primary float-end") }}
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}